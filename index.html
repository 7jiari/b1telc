<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Wanderung â€“ Lektion 6</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=Noto+Sans+Arabic:wght@300;400;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘              TOKENS & RESET                  â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --bg: #0c0f12;
  --bg2: #131820;
  --bg3: #1a2030;
  --card: #161d2a;
  --card-hover: #1e2638;
  --border: rgba(255,255,255,.07);
  --text: #e8e4df;
  --text-dim: #7a8494;
  --text-mid: #a3adb8;
  --accent: #e8a04c;
  --accent2: #d4844a;
  --blue: #5ba3d9;
  --green: #5cbf8a;
  --red: #e05c5c;
  --a-color: #5ba3d9;
  --b-color: #e8a04c;
  --shadow: 0 4px 32px rgba(0,0,0,.35);
  --radius: 14px;
}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘              HERO / HEADER                   â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero{
  position:relative;
  padding:48px 20px 36px;
  text-align:center;
  background:linear-gradient(180deg, #0a0c0e 0%, #131820 60%, var(--bg) 100%);
  overflow:hidden;
}
.hero::before{
  content:'';
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse 120% 60% at 50% 0%, rgba(91,163,217,.08) 0%, transparent 70%),
    radial-gradient(ellipse 80% 40% at 20% 80%, rgba(232,160,76,.05) 0%, transparent 60%);
}
/* subtle mountain silhouette */
.hero::after{
  content:'';
  position:absolute;
  bottom:0;left:0;right:0;
  height:80px;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 80'%3E%3Cpath fill='%230c0f12' d='M0,80 L0,45 L120,25 L200,40 L350,10 L480,35 L600,5 L720,30 L860,8 L960,28 L1100,12 L1200,38 L1350,15 L1440,32 L1440,80 Z'/%3E%3C/svg%3E") bottom/cover no-repeat;
}
.hero-icon{
  width:56px;height:56px;
  margin:0 auto 16px;
  background:linear-gradient(135deg,var(--card),var(--bg3));
  border-radius:16px;
  border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  font-size:28px;
  position:relative;z-index:1;
  box-shadow:0 8px 32px rgba(91,163,217,.15);
}
.hero h1{
  font-family:'Cormorant Garamond',serif;
  font-size:2.6rem;font-weight:300;
  letter-spacing:3px;
  color:#fff;
  position:relative;z-index:1;
  text-transform:uppercase;
}
.hero h1 span{color:var(--accent);font-weight:600}
.hero .meta{
  color:var(--text-dim);
  font-size:.78rem;font-weight:300;
  letter-spacing:1.5px;text-transform:uppercase;
  margin-top:8px;
  position:relative;z-index:1;
}
.hero .tags{
  display:flex;flex-wrap:wrap;gap:7px;justify-content:center;
  margin-top:18px;position:relative;z-index:1;
}
.hero .tags span{
  background:rgba(91,163,217,.1);
  border:1px solid rgba(91,163,217,.2);
  color:var(--blue);
  font-size:.7rem;font-weight:500;
  padding:4px 11px;border-radius:20px;
  letter-spacing:.6px;
}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘            AUDIO PLAYER                      â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.player-wrap{
  max-width:680px;margin:28px auto 0;
  position:relative;z-index:1;
}
.player{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:20px 22px 18px;
  box-shadow:var(--shadow);
}
.player-top{
  display:flex;align-items:center;gap:14px;
}
.player-btn{
  flex-shrink:0;
  width:46px;height:46px;border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  transition:transform .15s,box-shadow .2s;
  box-shadow:0 4px 18px rgba(232,160,76,.3);
}
.player-btn:hover{transform:scale(1.08);box-shadow:0 6px 24px rgba(232,160,76,.4)}
.player-btn svg{width:18px;height:18px;fill:#fff}
.player-info{flex:1;min-width:0}
.player-title{
  font-size:.82rem;font-weight:600;color:var(--text);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.player-sub{font-size:.68rem;color:var(--text-dim);margin-top:2px}
.player-time{
  font-size:.72rem;color:var(--text-dim);
  font-variant-numeric:tabular-nums;white-space:nowrap;
}
/* waveform bar */
.waveform{
  margin-top:14px;height:32px;
  display:flex;align-items:center;gap:2px;
  cursor:pointer;
  position:relative;
}
.waveform .bar{
  flex:1;
  background:var(--bg3);
  border-radius:2px;
  transition:background .15s;
  position:relative;
}
.waveform .bar.played{background:var(--accent)}
.waveform .bar:hover{background:var(--accent2)!important}
/* speed selector */
.player-bottom{
  display:flex;align-items:center;justify-content:space-between;
  margin-top:12px;
}
.speed-btns{display:flex;gap:5px}
.speed-btn{
  background:var(--bg3);border:1px solid var(--border);
  color:var(--text-dim);font-size:.65rem;font-weight:600;
  padding:3px 9px;border-radius:8px;cursor:pointer;
  font-family:inherit;transition:all .15s;
}
.speed-btn:hover,.speed-btn.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.loop-btn{
  background:var(--bg3);border:1px solid var(--border);
  color:var(--text-dim);font-size:.65rem;font-weight:600;
  padding:3px 9px;border-radius:8px;cursor:pointer;
  font-family:inherit;transition:all .15s;display:flex;align-items:center;gap:4px;
}
.loop-btn:hover,.loop-btn.active{background:rgba(92,191,138,.2);color:var(--green);border-color:var(--green)}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘              NAV TABS                        â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.nav{
  display:flex;justify-content:center;gap:4px;
  padding:20px 16px 0;
  position:sticky;top:0;z-index:50;
  background:var(--bg);
  padding-bottom:16px;
}
.nav-btn{
  background:transparent;border:1px solid transparent;
  color:var(--text-dim);
  font-family:inherit;font-size:.72rem;font-weight:500;
  padding:7px 16px;border-radius:24px;
  cursor:pointer;letter-spacing:.8px;text-transform:uppercase;
  transition:all .2s;display:flex;align-items:center;gap:5px;
}
.nav-btn:hover{background:var(--bg3);color:var(--text)}
.nav-btn.active{
  background:linear-gradient(135deg,rgba(91,163,217,.15),rgba(232,160,76,.1));
  border-color:rgba(91,163,217,.25);
  color:var(--blue);
}
.nav-btn .dot{width:5px;height:5px;border-radius:50%;background:currentColor;opacity:.6}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘              MAIN LAYOUT                     â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.main{max-width:740px;margin:0 auto;padding:8px 16px 80px}
.section{display:none;animation:fadeUp .3s ease}
.section.active{display:block}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘           CONVERSATION CARDS                 â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.conv-card{
  display:flex;gap:12px;align-items:flex-start;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px 18px;
  margin-bottom:8px;
  cursor:pointer;
  transition:background .2s,border-color .2s,transform .15s;
  position:relative;overflow:hidden;
}
.conv-card::before{
  content:'';position:absolute;
  top:0;left:0;bottom:0;width:3px;
  transition:background .2s;
}
.conv-card.sp-a::before{background:var(--a-color)}
.conv-card.sp-b::before{background:var(--b-color)}
.conv-card:hover{background:var(--card-hover);transform:translateX(3px)}
.conv-card .avatar{
  flex-shrink:0;width:36px;height:36px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-family:'Cormorant Garamond',serif;
  font-size:1.1rem;font-weight:700;color:#fff;
  margin-top:1px;
}
.sp-a .avatar{background:linear-gradient(135deg,#4a8fbd,#3a6f9f)}
.sp-b .avatar{background:linear-gradient(135deg,#d4884a,#b86e35)}
.conv-card .body{flex:1;min-width:0}
.conv-card .num{
  font-size:.6rem;color:var(--text-dim);
  font-variant-numeric:tabular-nums;
  margin-bottom:3px;letter-spacing:.5px;
}
.conv-card .de-text{
  font-size:.9rem;font-weight:400;color:var(--text);line-height:1.55;
}
.conv-card .ar-text{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.95rem;color:var(--blue);
  direction:rtl;text-align:right;
  line-height:1.7;margin-top:8px;
  padding-top:8px;
  border-top:1px solid var(--border);
  max-height:0;overflow:hidden;opacity:0;
  transition:max-height .35s ease,opacity .3s ease,margin .3s,padding .3s;
}
.conv-card.open .ar-text{
  max-height:200px;opacity:1;margin-top:8px;padding-top:8px;
}
.conv-card .hint{
  font-size:.62rem;color:var(--accent);
  margin-top:5px;opacity:.6;
  transition:opacity .2s;
  display:flex;align-items:center;gap:4px;
}
.conv-card.open .hint{opacity:0;max-height:0;overflow:hidden;margin:0;padding:0}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘             VOCAB SECTION                    â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.vocab-filters{
  display:flex;flex-wrap:wrap;gap:6px;margin-bottom:18px;
}
.vf-btn{
  background:var(--bg3);border:1px solid var(--border);
  color:var(--text-dim);font-size:.68rem;font-weight:500;
  padding:4px 12px;border-radius:16px;cursor:pointer;
  font-family:inherit;transition:all .18s;
}
.vf-btn:hover,.vf-btn.active{
  background:rgba(91,163,217,.15);border-color:rgba(91,163,217,.3);color:var(--blue);
}
.vocab-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:9px;
}
.v-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:12px;padding:15px 16px;
  cursor:pointer;transition:all .2s;
  perspective:600px;position:relative;
  min-height:90px;
}
.v-card:hover{border-color:rgba(91,163,217,.25);background:var(--card-hover)}
.v-card .v-front,.v-card .v-back{
  position:absolute;inset:0;padding:15px 16px;
  backface-visibility:hidden;
  transition:transform .4s cubic-bezier(.4,0,.2,1);
  display:flex;flex-direction:column;justify-content:center;
}
.v-card .v-back{transform:rotateY(180deg)}
.v-card.flipped .v-front{transform:rotateY(180deg)}
.v-card.flipped .v-back{transform:rotateY(0deg)}
.v-card .v-cat{
  font-size:.58rem;font-weight:600;letter-spacing:.8px;
  text-transform:uppercase;margin-bottom:6px;
  color:var(--accent);
}
.v-card .v-word{
  font-family:'Cormorant Garamond',serif;
  font-size:1.15rem;font-weight:600;color:var(--text);
}
.v-card .v-hint{
  font-size:.6rem;color:var(--text-dim);margin-top:auto;padding-top:6px;
}
.v-card .v-back .v-word{
  font-family:'Noto Sans Arabic',sans-serif;
  color:var(--blue);direction:rtl;text-align:right;
  font-size:1.05rem;
}
.v-card .v-back .v-cat{color:var(--green)}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘              QUIZ                            â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.quiz-wrap{}
.quiz-progress{
  display:flex;align-items:center;gap:12px;
  margin-bottom:22px;
}
.quiz-progress .bar-track{
  flex:1;height:4px;background:var(--bg3);border-radius:2px;overflow:hidden;
}
.quiz-progress .bar-fill{
  height:100%;border-radius:2px;
  background:linear-gradient(90deg,var(--blue),var(--green));
  transition:width .4s cubic-bezier(.4,0,.2,1);
}
.quiz-progress .counter{
  font-size:.7rem;color:var(--text-dim);font-variant-numeric:tabular-nums;white-space:nowrap;
}
.quiz-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:20px;padding:32px 28px 28px;
  box-shadow:var(--shadow);
}
.quiz-card .q-tag{
  display:inline-flex;align-items:center;gap:5px;
  background:rgba(91,163,217,.1);border:1px solid rgba(91,163,217,.2);
  color:var(--blue);font-size:.65rem;font-weight:600;
  padding:3px 10px;border-radius:12px;margin-bottom:18px;
  letter-spacing:.5px;
}
.quiz-card .q-text{
  font-size:.98rem;color:var(--text);line-height:1.6;
  font-weight:400;margin-bottom:24px;
  padding-bottom:18px;border-bottom:1px solid var(--border);
}
.quiz-card .q-text.rtl{
  font-family:'Noto Sans Arabic',sans-serif;
  direction:rtl;text-align:right;color:var(--blue);font-size:1.1rem;
}
.quiz-opts{display:flex;flex-direction:column;gap:8px}
.quiz-opt{
  background:var(--bg3);border:1px solid var(--border);
  border-radius:11px;padding:13px 16px;
  color:var(--text-mid);font-size:.85rem;
  cursor:pointer;font-family:inherit;text-align:left;
  transition:all .18s;position:relative;
  display:flex;align-items:center;gap:10px;
}
.quiz-opt .opt-num{
  flex-shrink:0;width:24px;height:24px;border-radius:6px;
  background:var(--card);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  font-size:.65rem;color:var(--text-dim);font-weight:600;
}
.quiz-opt:hover{background:var(--card-hover);border-color:rgba(91,163,217,.3);color:var(--text)}
.quiz-opt.correct{
  background:rgba(92,191,138,.12);border-color:var(--green);color:var(--green);
}
.quiz-opt.correct .opt-num{background:var(--green);color:#fff;border-color:var(--green)}
.quiz-opt.wrong{
  background:rgba(224,92,92,.1);border-color:var(--red);color:var(--red);
}
.quiz-opt.wrong .opt-num{background:var(--red);color:#fff;border-color:var(--red)}
.quiz-opt:disabled{cursor:default}
.quiz-feedback{
  margin-top:18px;font-size:.8rem;color:var(--text-dim);
  min-height:20px;padding-left:34px;
}
.quiz-feedback.correct{color:var(--green)}
.quiz-feedback.wrong{color:var(--red)}
.quiz-next{
  margin-top:20px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;border:none;padding:9px 24px;border-radius:22px;
  font-size:.75rem;font-weight:600;cursor:pointer;letter-spacing:.6px;
  font-family:inherit;display:none;transition:transform .15s,box-shadow .2s;
  box-shadow:0 4px 16px rgba(232,160,76,.25);
}
.quiz-next:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(232,160,76,.35)}
.quiz-next.show{display:inline-flex;align-items:center;gap:6px}

/* score */
.score-box{text-align:center;padding:50px 24px 40px}
.score-circle{
  width:140px;height:140px;border-radius:50%;
  margin:0 auto 24px;
  background:conic-gradient(var(--green) 0deg, var(--green) var(--pct), var(--bg3) var(--pct));
  display:flex;align-items:center;justify-content:center;
  position:relative;
}
.score-circle::before{
  content:'';position:absolute;
  width:108px;height:108px;border-radius:50%;
  background:var(--card);
}
.score-circle .score-val{
  position:relative;z-index:1;
  font-family:'Cormorant Garamond',serif;
  font-size:2.2rem;font-weight:600;color:var(--text);
}
.score-box .score-sub{color:var(--text-dim);font-size:.78rem;margin-bottom:28px}
.score-box .restart{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;border:none;padding:10px 30px;border-radius:24px;
  font-size:.78rem;font-weight:600;cursor:pointer;font-family:inherit;
  transition:transform .15s;box-shadow:0 4px 16px rgba(232,160,76,.25);
}
.score-box .restart:hover{transform:translateY(-1px)}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘              TIPS                            â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tip-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:var(--radius);padding:20px 22px;
  margin-bottom:10px;
  transition:border-color .2s;
}
.tip-card:hover{border-color:rgba(91,163,217,.2)}
.tip-card .tip-head{
  display:flex;align-items:center;gap:10px;margin-bottom:10px;
}
.tip-card .tip-icon{
  width:32px;height:32px;border-radius:8px;
  background:rgba(91,163,217,.1);
  display:flex;align-items:center;justify-content:center;font-size:15px;
}
.tip-card .tip-title{
  font-family:'Cormorant Garamond',serif;
  font-size:1.05rem;font-weight:600;color:var(--text);
}
.tip-card .tip-title span{color:var(--text-dim);font-weight:300;font-size:.85rem}
.tip-card p{font-size:.82rem;color:var(--text-mid);line-height:1.7}
.tip-card .ar-eg{
  margin-top:10px;padding:8px 12px 8px 14px;
  background:rgba(91,163,217,.07);border-left:3px solid var(--blue);
  border-radius:0 8px 8px 0;
  font-family:'Noto Sans Arabic',sans-serif;
  direction:rtl;text-align:right;
  color:var(--blue);font-size:.9rem;line-height:1.6;
}

/* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘           UTILITY / RESPONSIVE               â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:520px){
  .hero h1{font-size:1.9rem;letter-spacing:2px}
  .vocab-grid{grid-template-columns:1fr 1fr}
  .nav-btn{padding:6px 11px;font-size:.64rem}
  .quiz-card{padding:22px 18px 20px}
}
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â• HERO â•â•â•â•â•â•â•â•â•â• -->
<div class="hero">
  <div class="hero-icon">ğŸ”ï¸</div>
  <h1>Wander<span>ung</span></h1>
  <div class="meta">Lektion 6 Â· Deutsch â†” Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
  <div class="tags">
    <span>Wie reisen</span>
    <span>Ãœbernachtung</span>
    <span>Kosten</span>
    <span>Kleidung</span>
    <span>Aufgaben</span>
  </div>

  <!-- AUDIO PLAYER -->
  <div class="player-wrap">
    <div class="player">
      <div class="player-top">
        <button class="player-btn" id="playBtn" onclick="togglePlay()">
          <svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <div class="player-info">
          <div class="player-title">Wanderung â€“ GesprÃ¤ch 6</div>
          <div class="player-sub">HÃ¶re den Dialoog auf Deutsch an</div>
        </div>
        <div class="player-time"><span id="curTime">0:00</span> / <span id="durTime">0:00</span></div>
      </div>
      <div class="waveform" id="waveform" onclick="seekAudio(event)"></div>
      <div class="player-bottom">
        <div class="speed-btns">
          <button class="speed-btn" onclick="setSpeed(0.75)">0.75Ã—</button>
          <button class="speed-btn active" onclick="setSpeed(1)">1Ã—</button>
          <button class="speed-btn" onclick="setSpeed(1.25)">1.25Ã—</button>
          <button class="speed-btn" onclick="setSpeed(1.5)">1.5Ã—</button>
        </div>
        <button class="loop-btn" id="loopBtn" onclick="toggleLoop()">â†» Loop</button>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â• -->
<div class="nav">
  <button class="nav-btn active" onclick="switchTab('conv',this)"><span class="dot"></span>GesprÃ¤ch</button>
  <button class="nav-btn" onclick="switchTab('vocab',this)"><span class="dot"></span>Vokabeln</button>
  <button class="nav-btn" onclick="switchTab('quiz',this)"><span class="dot"></span>Quiz</button>
  <button class="nav-btn" onclick="switchTab('tips',this)"><span class="dot"></span>Tipps</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â• -->
<div class="main">
  <div id="conv" class="section active"></div>
  <div id="vocab" class="section"></div>
  <div id="quiz" class="section"></div>
  <div id="tips" class="section"></div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const conv = [
  {s:'A',de:"Hallo Abdelkhalik, wie geht's?",ar:'Ù…Ø±Ø­Ø¨Ø§ Ø¹Ø¨Ø¯ Ø§Ù„Ø®Ø§Ù„Ù‚ØŒ ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ'},
  {s:'B',de:'Mir geht es gut, danke, und dir?',ar:'Ø­Ø§Ù„ÙŠ Ø¬ÙŠØ¯ØŒ Ø´ÙƒØ±Ø§ØŒ ÙˆØ£Ù†Øª ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ'},
  {s:'A',de:'Super, alles in Ordnung. Wie du weiÃŸt, wir haben frei am Wochenende und mÃ¶chten eine Wanderung unternehmen?',ar:'Ø±Ø§Ø¦Ø¹ØŒ ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø®ÙŠØ±. ÙƒÙ…Ø§ ØªØ¹Ù„Ù…ØŒ Ù†Ø­Ù† Ø­Ø± ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ùˆ Ù†Ø±ÙŠØ¯ Ø£Ù† Ù†Ø°Ù‡Ø¨ ÙÙŠ Ø±Ø­Ù„Ø© ØªÙŠØ±ÙƒØŸ'},
  {s:'B',de:'Prima, das ist eine gute Idee, aber ich mÃ¶chte gern wissen, wo wir diese Wanderung machen kÃ¶nnen.',ar:'Ù…Ù…ØªØ§Ø²ØŒ Ù‡Ø°Ù‡ ÙÙƒØ±Ø© Ø¬ÙŠØ¯Ø©ØŒ Ù„ÙƒÙ†Ù†ÙŠ Ø£Ø±ÙŠØ¯ Ø£Ù† Ø£Ø¹Ø±Ù Ø£ÙŠÙ† ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ø°Ù‡Ø¨ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø­Ù„Ø©ØŸ'},
  {s:'A',de:'Ich schlage vor, dass wir nach Ifran fahren, was denkst du?',ar:'Ø£Ù†Ø§ Ø£Ù‚ØªØ±Ø­ Ø£Ù† Ù†Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø¥ÙØ±Ø§Ù†ØŒ Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {s:'B',de:'Das passt mir, und womit kÃ¶nnen wir dorthin fahren? Hast du eine Idee?',ar:'Ù‡Ø°Ø§ ÙŠÙ†Ø§Ø³Ø¨Ù†ÙŠØŒ ÙˆØ¨Ù…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ù‡Ù†Ø§ÙƒØŸ Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙÙƒØ±Ø©ØŸ'},
  {s:'A',de:'Wir kÃ¶nnen ein Auto mieten. Aber weiÃŸt du was, es wÃ¤re schÃ¶n, wenn wir mit dem Zug fahren, weil das schneller und bequemer ist, was denkst du?',ar:'ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ø³ØªØ£Ø¬Ø± Ø³ÙŠØ§Ø±Ø©. Ù„ÙƒÙ† Ø£ØªØ¹Ù„Ù…ØŒ Ø³ÙŠÙƒÙˆÙ† Ø¬Ù…ÙŠÙ„Ø§ Ù„Ùˆ Ø±ÙƒØ¨Ù†Ø§ Ø§Ù„Ù‚Ø·Ø§Ø±ØŒ Ù„Ø£Ù† Ø°Ù„Ùƒ Ø£Ø³Ø±Ø¹ Ùˆ Ø£Ø±ÙŠØ­ØŒ Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {s:'B',de:'Ich stimme dir zu, und wo kÃ¶nnen wir in Ifran Ã¼bernachten? Hast du etwas geplant?',ar:'Ø£Ù†Ø§ Ø£ÙˆØ§ÙÙ‚ÙƒØŒ ÙˆØ£ÙŠÙ† ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ù†Ø§Ù… ÙÙŠ Ø¥ÙØ±Ø§Ù†ØŸ Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø®Ø·Ø©ØŸ'},
  {s:'A',de:'Mach dir keine Sorgen, ich kenne da ein gÃ¼nstiges Hotel, das im Zentrum und ruhig liegt, und auch preiswert.',ar:'Ù„Ø§ ØªÙ‚Ù„Ù‚ØŒ Ø£Ù†Ø§ Ø£Ø¹Ø±Ù ÙÙ†Ø¯Ù‚ Ø±Ø®ÙŠØµ ÙÙŠ Ø§Ù„ÙˆØ³Ø· Ùˆ Ù‡Ø§Ø¯Ø¦ØŒ ÙˆØ£ÙŠØ¶Ø§ Ø¨Ø³Ø¹Ø± Ù…Ø¹Ù‚ÙˆÙ„.'},
  {s:'B',de:'Einverstanden, und was machen wir mit den Kosten?',ar:'Ø­Ø³Ù†Ø§ØŒ ÙˆÙ…Ø§Ø°Ø§ Ø³Ù†ÙØ¹Ù„ Ø¨Ø§Ù„ØªÙƒØ§Ù„ÙŠÙØŸ'},
  {s:'A',de:'Die Wanderung kostet etwa 100 â‚¬. Also du bezahlst 50 â‚¬ und ich 50 â‚¬. Was hÃ¤ltst du davon?',ar:'Ø§Ù„Ø±Ø­Ù„Ø© ØªÙƒÙ„Ù Ø­ÙˆØ§Ù„ÙŠ 100 ÙŠÙˆØ±Ùˆ. Ø¥Ø°Ù† Ø£Ù†Øª ØªØ¯ÙØ¹ 50 ÙŠÙˆØ±Ùˆ Ùˆ Ø£Ù†Ø§ 50 ÙŠÙˆØ±Ùˆ. Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ Ù‡Ø°Ø§ØŸ'},
  {s:'B',de:'Alles klar, und brauchen wir spezielle Kleidungen zu wandern?',ar:'Ø­Ø³Ù†Ø§ØŒ ÙˆÙ‡Ù„ Ù†Ø­ØªØ§Ø¬ Ù…Ù„Ø§Ø¨Ø³ Ø®Ø§ØµØ© Ù„Ù„ØªÙŠØ±ÙƒØŸ'},
  {s:'A',de:'Ja, natÃ¼rlich, wir brauchen Klamotten wie z.B. Mantel, Hut, Handschuhe, Rucksack â€¦ usw.',ar:'Ù†Ø¹Ù…ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹ØŒ Ù†Ø­ØªØ§Ø¬ Ù…Ù„Ø§Ø¨Ø³ Ù…Ø«Ù„ Ø§Ù„Ù…Ø¹Ø·ÙØŒ Ø§Ù„Ù‚Ø¨Ø¹Ø©ØŒ Ø§Ù„Ù‚ÙØ§Ø²Ø§ØªØŒ Ø§Ù„Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©... ÙˆÙ…Ø§ Ø¥Ù„Ù‰ Ø°Ù„Ùƒ.'},
  {s:'B',de:'WunderschÃ¶n, ich verstehe dich, aber ich habe noch eine Frage: Was machen wir mit dem Essen und Trinken, sollen wir etwas mitbringen?',ar:'Ø±Ø§Ø¦Ø¹ØŒ Ø£Ù†Ø§ Ø£ÙÙ‡Ù…ÙƒØŒ Ù„ÙƒÙ†Ù†ÙŠ Ù„Ø¯ÙŠ Ø³Ø¤Ø§Ù„ Ø¢Ø®Ø±: Ù…Ø§Ø°Ø§ Ø³Ù†ÙØ¹Ù„ Ø¨Ø§Ù„Ø£ÙƒÙ„ ÙˆØ§Ù„Ø´Ø±Ø¨ØŒ Ù‡Ù„ ÙŠØ¬Ø¨ Ø£Ù† Ù†Ø£Ø®Ø° Ø´ÙŠØ¡ Ù…Ø¹Ù†Ø§ØŸ'},
  {s:'A',de:'Ich kÃ¼mmere mich ums Essen und Trinken. AuÃŸerdem kenne ich da ein gutes Restaurant, das schmeckt gut und auch preiswert.',ar:'Ø£Ù†Ø§ Ø£Ù‡ØªÙ… Ø¨Ø§Ù„Ø£ÙƒÙ„ ÙˆØ§Ù„Ø´Ø±Ø¨. ÙƒÙ…Ø§ Ø£Ù†Ù†ÙŠ Ø£Ø¹Ø±Ù Ù…Ø·Ø¹Ù… Ø¬ÙŠØ¯ØŒ Ø§Ù„Ø·Ø¹Ø§Ù… Ù„Ø°ÙŠØ° ÙˆØ£ÙŠØ¶Ø§ Ø¨Ø³Ø¹Ø± Ù…Ø¹Ù‚ÙˆÙ„.'},
  {s:'B',de:'Alles in Ordnung, und welche AktivitÃ¤ten kÃ¶nnen wir dort machen? Hast du VorschlÃ¤ge?',ar:'ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø®ÙŠØ±ØŒ ÙˆÙ…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†ÙØ¹Ù„Ù‡Ø§ Ù‡Ù†Ø§ÙƒØŸ Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø§Ù‚ØªØ±Ø§Ø­Ø§ØªØŸ'},
  {s:'A',de:'Es gibt viel zu tun. Wir kÃ¶nnen Fleisch und Wurst grillen, Blumen und Pilze sammeln, und auch Ski fahren, was meinst du?',ar:'Ù‡Ù†Ø§Ùƒ Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙŠ Ù†ÙØ¹Ù„Ù‡Ø§. ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ø´ÙˆÙŠ Ø§Ù„Ù„Ø­Ù… ÙˆØ§Ù„Ù†Ù‚Ø§Ø°ØŒ Ù†Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø²Ù‡Ø§Ø± ÙˆØ§Ù„ÙØ·Ø±ØŒ ÙˆØ£ÙŠØ¶Ø§ Ù†Ù„Ø¹Ø¨ Ø§Ù„Ø³ÙƒÙŠØŒ Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {s:'B',de:'Wunderbar, hoffentlich verbringen wir schÃ¶ne Zeit.',ar:'Ø±Ø§Ø¦Ø¹ØŒ Ø£ØªÙ…Ù†Ù‰ Ø£Ù† Ù†Ù‚Ø¶ÙŠ ÙˆÙ‚ØªØ§ Ø¬Ù…ÙŠÙ„Ø§.'},
  {s:'A',de:'Das hoffe ich auch, ich glaube, wir haben alle Punkte besprochen. Also lass uns am Samstag sehen.',ar:'Ø£Ù†Ø§ Ø£ØªÙ…Ù†Ù‰ Ø°Ù„Ùƒ Ø£ÙŠØ¶Ø§ØŒ Ø£Ù†Ø§ Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†Ù†Ø§ ØªØ­Ø¯Ø«Ù†Ø§ Ø¹Ù† ÙƒÙ„ Ø´ÙŠØ¡. Ø¥Ø°Ù† Ø¯Ø¹Ù†Ø§ Ù†Ù„ØªÙ‚ÙŠ ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª.'},
  {s:'B',de:'Ich glaube das auch, ich hoffe dir einen schÃ¶nen Tag noch. TschÃ¼ss.',ar:'Ø£Ù†Ø§ Ø£Ø¹ØªÙ‚Ø¯ Ø°Ù„Ùƒ Ø£ÙŠØ¶Ø§ØŒ Ø£ØªÙ…Ù†Ù‰ Ù„Ùƒ ÙŠÙˆÙ…Ø§ Ø¬Ù…ÙŠÙ„Ø§. ÙˆØ¯Ø§Ø¹Ø§.'},
  {s:'A',de:'Gleichfalls. TschÃ¼ss.',ar:'ÙˆØ£Ù†Øª Ø£ÙŠØ¶Ø§. ÙˆØ¯Ø§Ø¹Ø§.'}
];

const vocab = [
  {cat:'ÙØ¹Ù„',de:'unternehmen',ar:'ÙŠÙ‚ÙˆÙ… Ø¨Ù€ / ÙŠØ¨Ø¯Ø£'},
  {cat:'ÙØ¹Ù„',de:'schlage vor',ar:'Ø£Ù‚ØªØ±Ø­'},
  {cat:'ÙØ¹Ù„',de:'mieten',ar:'ÙŠØ³ØªØ£Ø¬Ø±'},
  {cat:'ÙØ¹Ù„',de:'stimme zu',ar:'Ø£ÙˆØ§ÙÙ‚'},
  {cat:'ÙØ¹Ù„',de:'Ã¼bernachten',ar:'ÙŠÙ†Ø§Ù… ÙÙŠ ÙÙ†Ø¯Ù‚'},
  {cat:'ÙØ¹Ù„',de:'bezahlen',ar:'ÙŠØ¯ÙØ¹'},
  {cat:'ÙØ¹Ù„',de:'brauchen',ar:'ÙŠØ­ØªØ§Ø¬'},
  {cat:'ÙØ¹Ù„',de:'kÃ¼mmere mich',ar:'Ø£Ù‡ØªÙ… Ø¨Ù€'},
  {cat:'ÙØ¹Ù„',de:'sammeln',ar:'ÙŠØ¬Ù…Ø¹'},
  {cat:'ÙØ¹Ù„',de:'verbringen',ar:'ÙŠÙ‚Ø¶ÙŠ ÙˆÙ‚ØªØ§'},
  {cat:'ÙØ¹Ù„',de:'besprechen',ar:'ÙŠÙ†Ø§Ù‚Ø´ / ÙŠØªØ­Ø¯Ø« Ø¹Ù†'},
  {cat:'Ø§Ø³Ù…',de:'Wanderung',ar:'Ø±Ø­Ù„Ø© ØªÙŠØ±Ùƒ'},
  {cat:'Ø§Ø³Ù…',de:'Wochenende',ar:'Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹'},
  {cat:'Ø§Ø³Ù…',de:'Zug',ar:'Ù‚Ø·Ø§Ø±'},
  {cat:'Ø§Ø³Ù…',de:'Hotel',ar:'ÙÙ†Ø¯Ù‚'},
  {cat:'Ø§Ø³Ù…',de:'Kosten',ar:'ØªÙƒØ§Ù„ÙŠÙ'},
  {cat:'Ø§Ø³Ù…',de:'Mantel',ar:'Ù…Ø¹Ø·Ù'},
  {cat:'Ø§Ø³Ù…',de:'Hut',ar:'Ù‚Ø¨Ø¹Ø©'},
  {cat:'Ø§Ø³Ù…',de:'Handschuhe',ar:'Ù‚ÙØ§Ø²Ø§Øª'},
  {cat:'Ø§Ø³Ù…',de:'Rucksack',ar:'Ø­Ù‚ÙŠØ¨Ø© Ø¹Ø³ÙƒØ±ÙŠØ©'},
  {cat:'Ø§Ø³Ù…',de:'Restaurant',ar:'Ù…Ø·Ø¹Ù…'},
  {cat:'Ø§Ø³Ù…',de:'Fleisch',ar:'Ù„Ø­Ù…'},
  {cat:'Ø§Ø³Ù…',de:'Wurst',ar:'Ù†Ù‚Ø§Ø°'},
  {cat:'Ø§Ø³Ù…',de:'Blumen',ar:'Ø£Ø²Ù‡Ø§Ø±'},
  {cat:'Ø§Ø³Ù…',de:'Pilze',ar:'ÙØ·Ø±'},
  {cat:'Ø§Ø³Ù…',de:'Ski',ar:'Ø³ÙƒÙŠ'},
  {cat:'ØµÙØ©',de:'gÃ¼nstiger / preiswert',ar:'Ø±Ø®ÙŠØµ / Ø¨Ø³Ø¹Ø± Ù…Ø¹Ù‚ÙˆÙ„'},
  {cat:'ØµÙØ©',de:'ruhig',ar:'Ù‡Ø§Ø¯Ø¦'},
  {cat:'ØµÙØ©',de:'schneller',ar:'Ø£Ø³Ø±Ø¹'},
  {cat:'ØµÙØ©',de:'bequemer',ar:'Ø£Ø±ÙŠØ­'},
  {cat:'ØªØ¹Ø¨ÙŠØ±',de:'Mach dir keine Sorgen',ar:'Ù„Ø§ ØªÙ‚Ù„Ù‚'},
  {cat:'ØªØ¹Ø¨ÙŠØ±',de:'Einverstanden',ar:'Ø­Ø³Ù†Ø§ / Ù…ÙˆØ§ÙÙ‚'},
  {cat:'ØªØ¹Ø¨ÙŠØ±',de:'Alles in Ordnung',ar:'ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø®ÙŠØ±'},
  {cat:'ØªØ¹Ø¨ÙŠØ±',de:'was denkst du?',ar:'Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {cat:'ØªØ¹Ø¨ÙŠØ±',de:'Gleichfalls',ar:'ÙˆØ£Ù†Øª Ø£ÙŠØ¶Ø§'}
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  AUDIO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DRIVE_ID = '1XAOtSTX1Vg6TKEDMIbFCuWZCc7fCHiru';
const AUDIO_URL = `https://drive.google.com/uc?export=download&id=${DRIVE_ID}`;
let audio = new Audio(AUDIO_URL);
let isLooping = false;
const WAVE_COUNT = 80;

// Build waveform bars
(function buildWave(){
  const wf = document.getElementById('waveform');
  wf.innerHTML = '';
  const heights = [];
  // generate pseudo-random waveform shape
  for(let i=0;i<WAVE_COUNT;i++){
    const h = 14 + Math.random()*52 + Math.sin(i*0.4)*12;
    heights.push(h);
  }
  heights.forEach((h,i)=>{
    const b = document.createElement('div');
    b.className='bar';
    b.style.height = h+'px';
    wf.appendChild(b);
  });
})();

function updateWaveform(){
  if(!audio.duration) return;
  const pct = audio.currentTime / audio.duration;
  const idx = Math.floor(pct * WAVE_COUNT);
  document.querySelectorAll('.waveform .bar').forEach((b,i)=>{
    b.classList.toggle('played', i < idx);
  });
}

audio.addEventListener('timeupdate', ()=>{
  updateWaveform();
  document.getElementById('curTime').textContent = fmtTime(audio.currentTime);
});
audio.addEventListener('loadedmetadata', ()=>{
  document.getElementById('durTime').textContent = fmtTime(audio.duration);
});
audio.addEventListener('ended', ()=>{
  if(isLooping){ audio.currentTime=0; audio.play(); }
  else { document.getElementById('playIcon').innerHTML='<path d="M8 5v14l11-7z"/>'; }
});
audio.addEventListener('error', ()=>{
  document.querySelector('.player-sub').textContent = 'âš ï¸ Google Drive: Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª';
  document.querySelector('.player-sub').style.color='#e8a04c';
  document.querySelector('.player-sub').style.cursor='pointer';
  document.querySelector('.player-sub').onclick = ()=>{ window.open(AUDIO_URL,'_blank'); };
});

function fmtTime(s){
  if(isNaN(s)) return '0:00';
  const m=Math.floor(s/60), sec=Math.floor(s%60);
  return m+':'+(sec<10?'0':'')+sec;
}
function togglePlay(){
  if(audio.paused){ audio.play(); document.getElementById('playIcon').innerHTML='<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; }
  else { audio.pause(); document.getElementById('playIcon').innerHTML='<path d="M8 5v14l11-7z"/>'; }
}
function seekAudio(e){
  const rect = document.getElementById('waveform').getBoundingClientRect();
  const pct = (e.clientX - rect.left) / rect.width;
  audio.currentTime = pct * audio.duration;
}
function setSpeed(v){
  audio.playbackRate = v;
  document.querySelectorAll('.speed-btn').forEach(b=>{ b.classList.toggle('active', parseFloat(b.textContent)===v); });
}
function toggleLoop(){
  isLooping = !isLooping;
  document.getElementById('loopBtn').classList.toggle('active', isLooping);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CONVERSATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderConv(){
  document.getElementById('conv').innerHTML = conv.map((l,i)=>`
    <div class="conv-card sp-${l.s.toLowerCase()}" onclick="this.classList.toggle('open')">
      <div class="avatar">${l.s}</div>
      <div class="body">
        <div class="num">${i+1} / ${conv.length}</div>
        <div class="de-text">${l.de}</div>
        <div class="ar-text">${l.ar}</div>
        <div class="hint">Ø§Ø¶ØºØ· Ù„ØªØ±Ù‰ Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© â–¾</div>
      </div>
    </div>
  `).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  VOCAB
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let activeFilter = 'ÙƒÙ„';
function renderVocab(){
  const cats = ['ÙƒÙ„','ÙØ¹Ù„','Ø§Ø³Ù…','ØµÙØ©','ØªØ¹Ø¨ÙŠØ±'];
  const filtered = activeFilter==='ÙƒÙ„' ? vocab : vocab.filter(v=>v.cat===activeFilter);
  document.getElementById('vocab').innerHTML =
    '<div class="vocab-filters">' +
    cats.map(c=>`<button class="vf-btn${activeFilter===c?' active':''}" onclick="filterVocab('${c}')">${c}</button>`).join('') +
    '</div><div class="vocab-grid">' +
    filtered.map(v=>`
      <div class="v-card" onclick="this.classList.toggle('flipped')">
        <div class="v-front">
          <div class="v-cat">${v.cat}</div>
          <div class="v-word">${v.de}</div>
          <div class="v-hint">Ø§Ø¶ØºØ· Ù„Ù„ØªØ±Ø¬Ù…Ø© â–¾</div>
        </div>
        <div class="v-back">
          <div class="v-cat">Ø§Ù„ØªØ±Ø¬Ù…Ø©</div>
          <div class="v-word">${v.ar}</div>
          <div class="v-hint">Ø§Ø¶ØºØ· Ù„Ù„Ø±Ø¬ÙˆØ¹</div>
        </div>
      </div>
    `).join('') + '</div>';
}
function filterVocab(c){ activeFilter=c; renderVocab(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let qList=[],qIdx=0,qScore=0;
function shuffle(a){ const r=[...a]; for(let i=r.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[r[i],r[j]]=[r[j],r[i]];} return r; }

function buildQuiz(){
  qList=[];
  // 7 from conv (DEâ†’AR)
  shuffle(conv).slice(0,7).forEach(l=>{
    const w = shuffle(conv.filter(x=>x.ar!==l.ar)).slice(0,3).map(x=>x.ar);
    qList.push({q:l.de, ans:l.ar, opts:shuffle([l.ar,...w]), rtl:true, tag:'ØªØ±Ø¬Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'});
  });
  // 5 from vocab (ARâ†’DE)
  shuffle(vocab).slice(0,5).forEach(v=>{
    const w = shuffle(vocab.filter(x=>x.de!==v.de)).slice(0,3).map(x=>x.de);
    qList.push({q:v.ar, ans:v.de, opts:shuffle([v.de,...w]), rtl:false, tag:'ØªØ±Ø¬Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©'});
  });
  qList = shuffle(qList);
  qIdx=0; qScore=0;
}

function renderQuiz(){ buildQuiz(); showQ(); }

function showQ(){
  const el = document.getElementById('quiz');
  if(qIdx>=qList.length){
    const pct = Math.round(qScore/qList.length*100);
    el.innerHTML = `<div class="score-box">
      <div class="score-circle" style="--pct:${pct*3.6}deg">
        <div class="score-val">${pct}%</div>
      </div>
      <div class="score-sub">${qScore} Ù…Ù† ${qList.length} Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</div>
      <button class="restart" onclick="renderQuiz()">Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§ â†»</button>
    </div>`;
    return;
  }
  const q = qList[qIdx];
  const labels = ['A','B','C','D'];
  el.innerHTML = `
    <div class="quiz-wrap">
      <div class="quiz-progress">
        <div class="bar-track"><div class="bar-fill" style="width:${qIdx/qList.length*100}%"></div></div>
        <div class="counter">${qIdx+1} / ${qList.length}</div>
      </div>
      <div class="quiz-card">
        <div class="q-tag">ğŸ¯ ${q.tag}</div>
        <div class="q-text${q.rtl?' rtl':''}">${q.q}</div>
        <div class="quiz-opts">
          ${q.opts.map((o,i)=>`<button class="quiz-opt" onclick="pick(this,'${o.replace(/'/g,"\\'")}')">${'<span class="opt-num">'+labels[i]+'</span>'}${o}</button>`).join('')}
        </div>
        <div class="quiz-feedback" id="fb"></div>
        <button class="quiz-next" id="nxt" onclick="qIdx++;showQ()">Ø§Ù„ØªØ§Ù„ÙŠ <span>â†’</span></button>
      </div>
    </div>`;
}

function pick(btn,chosen){
  const q=qList[qIdx];
  document.querySelectorAll('.quiz-opt').forEach(b=>b.disabled=true);
  if(chosen===q.ans){
    btn.classList.add('correct');
    document.getElementById('fb').className='quiz-feedback correct';
    document.getElementById('fb').textContent='âœ“ ØµØ­ÙŠØ­! Ù…Ù…ØªØ§Ø²';
    qScore++;
  } else {
    btn.classList.add('wrong');
    document.getElementById('fb').className='quiz-feedback wrong';
    document.getElementById('fb').textContent='Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: '+q.ans;
    document.querySelectorAll('.quiz-opt').forEach(b=>{if(b.textContent.slice(1)===q.ans||b.textContent.includes(q.ans))b.classList.add('correct')});
  }
  document.getElementById('nxt').classList.add('show');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  TIPS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTips(){
  const tips = [
    {icon:'ğŸ’¡',title:'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­ÙØ¸',sub:'',body:'Ø§Ù„Ø­ÙˆØ§Ø± Ù…Ù‚Ø³Ù‘Ù… Ø¥Ù„Ù‰ 5 Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø±Ø¦ÙŠØ³ÙŠØ©. Ø­Ø§ÙˆÙ„ Ø£Ù† ØªØ­ÙØ¸ ÙƒÙ„ Ù…ÙˆØ¶ÙˆØ¹ ÙƒÙˆØ­Ø¯Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ Ø«Ù… ÙƒØ±Ù‘Ø± ÙƒÙ„ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø­Ø¯Ø©. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØµÙˆØª ÙƒØ«ÙŠØ±Ø§!',ar:''},
    {icon:'âœˆï¸',title:'ÙƒÙŠÙ Ù†Ø³Ø§ÙØ±ØŸ',sub:'Wie reisen',body:'Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©: <strong>Zug</strong> (Ù‚Ø·Ø§Ø±)ØŒ <strong>Auto mieten</strong> (Ø§Ø³ØªØ£Ø¬Ø± Ø³ÙŠØ§Ø±Ø©)ØŒ <strong>schneller und bequemer</strong> (Ø£Ø³Ø±Ø¹ ÙˆØ£Ø±ÙŠØ­)',ar:'Ù†Ø­Ù† Ù†Ø±ÙƒØ¨ Ø§Ù„Ù‚Ø·Ø§Ø± Ù„Ø£Ù†Ù‡ Ø£Ø³Ø±Ø¹ ÙˆØ£Ø±ÙŠØ­'},
    {icon:'ğŸ¨',title:'Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©',sub:'Ãœbernachtung',body:'Ø§Ù„ÙƒÙ„Ù…Ø§Øª: <strong>Ã¼bernachten</strong> (ÙŠÙ†Ø§Ù…)ØŒ <strong>gÃ¼nstiges Hotel</strong> (ÙÙ†Ø¯Ù‚ Ø±Ø®ÙŠØµ)ØŒ <strong>zentral und ruhig</strong> (ÙÙŠ Ø§Ù„ÙˆØ³Ø· ÙˆÙ‡Ø§Ø¯Ø¦)',ar:'Ø§Ù„ÙÙ†Ø¯Ù‚ Ø±Ø®ÙŠØµ ÙˆÙ‡Ø§Ø¯Ø¦ ÙˆÙÙŠ Ø§Ù„ÙˆØ³Ø·'},
    {icon:'ğŸ’°',title:'Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ',sub:'Kosten',body:'Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ø©: <strong>"Die Wanderung kostet etwa 100 â‚¬"</strong> â€“ ÙƒÙ„ ÙˆØ§Ø­Ø¯ ÙŠØ¯ÙØ¹ Ù†ØµÙ Ø§Ù„Ù…Ø¨Ù„Øº (50 ÙŠÙˆØ±Ùˆ)',ar:'ÙƒÙ„ ÙˆØ§Ø­Ø¯ Ù…Ù†Ø§ ÙŠØ¯ÙØ¹ 50 ÙŠÙˆØ±Ùˆ'},
    {icon:'ğŸ§¥',title:'Ø§Ù„Ù…Ù„Ø§Ø¨Ø³',sub:'Kleidung',body:'<strong>Mantel</strong> (Ù…Ø¹Ø·Ù)ØŒ <strong>Hut</strong> (Ù‚Ø¨Ø¹Ø©)ØŒ <strong>Handschuhe</strong> (Ù‚ÙØ§Ø²Ø§Øª)ØŒ <strong>Rucksack</strong> (Ø­Ù‚ÙŠØ¨Ø© Ø¹Ø³ÙƒØ±ÙŠØ©)',ar:'Ù†Ø­ØªØ§Ø¬ Ù…Ø¹Ø·Ù ÙˆÙ‚Ø¨Ø¹Ø© ÙˆÙ‚ÙØ§Ø²Ø§Øª ÙˆØ­Ù‚ÙŠØ¨Ø©'},
    {icon:'ğŸ¿',title:'Ø§Ù„Ø£Ù†Ø´Ø·Ø©',sub:'AktivitÃ¤ten',body:'<strong>Grillen</strong> (Ø´ÙˆÙŠ)ØŒ <strong>Blumen sammeln</strong> (Ø¬Ù…Ø¹ Ø£Ø²Ù‡Ø§Ø±)ØŒ <strong>Pilze sammeln</strong> (Ø¬Ù…Ø¹ ÙØ·Ø±)ØŒ <strong>Ski fahren</strong> (Ù„Ø¹Ø¨ Ø³ÙƒÙŠ)',ar:'ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ø´ÙˆÙŠ Ø§Ù„Ù„Ø­Ù… ÙˆÙ†Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø²Ù‡Ø§Ø± ÙˆØ§Ù„ÙØ·Ø±'}
  ];
  document.getElementById('tips').innerHTML = tips.map(t=>`
    <div class="tip-card">
      <div class="tip-head">
        <div class="tip-icon">${t.icon}</div>
        <div class="tip-title">${t.title} ${t.sub?'<span>â€“ '+t.sub+'</span>':''}</div>
      </div>
      <p>${t.body}</p>
      ${t.ar?'<div class="ar-eg">'+t.ar+'</div>':''}
    </div>
  `).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  TABS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function switchTab(id, btn){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  if(id==='conv') renderConv();
  else if(id==='vocab') renderVocab();
  else if(id==='quiz') renderQuiz();
  else if(id==='tips') renderTips();
}

// INIT
renderConv();
</script>
</body>
</html>
