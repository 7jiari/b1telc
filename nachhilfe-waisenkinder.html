<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Nachhilfe fÃ¼r Waisenkinder â€“ Lektion 7</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=Noto+Sans+Arabic:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
:root{
  --bg:#0c0f12;--bg2:#131820;--bg3:#1a2030;
  --card:#161d2a;--card-hover:#1e2638;
  --border:rgba(255,255,255,.07);
  --text:#e8e4df;--text-dim:#7a8494;--text-mid:#a3adb8;
  --accent:#e8a04c;--accent2:#d4844a;
  --blue:#5ba3d9;--green:#5cbf8a;--red:#e05c5c;
  --purple:#b08ad9;
  --a-color:#5ba3d9;--b-color:#e8a04c;
  --shadow:0 4px 32px rgba(0,0,0,.35);
  --radius:14px;
}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:'Inter',sans-serif;
  background:var(--bg);color:var(--text);
  min-height:100vh;overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

/* â•â•â• HERO â•â•â• */
.hero{
  position:relative;padding:44px 20px 32px;
  text-align:center;
  background:linear-gradient(180deg,#0a0c0e 0%,#131820 60%,var(--bg) 100%);
  overflow:hidden;
}
.hero::before{
  content:'';position:absolute;inset:0;
  background:
    radial-gradient(ellipse 120% 60% at 50% 0%,rgba(91,163,217,.08) 0%,transparent 70%),
    radial-gradient(ellipse 80% 40% at 20% 80%,rgba(232,160,76,.05) 0%,transparent 60%);
}
.hero::after{
  content:'';position:absolute;bottom:0;left:0;right:0;height:70px;
  background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 80'%3E%3Cpath fill='%230c0f12' d='M0,80 L0,45 L120,25 L200,40 L350,10 L480,35 L600,5 L720,30 L860,8 L960,28 L1100,12 L1200,38 L1350,15 L1440,32 L1440,80 Z'/%3E%3C/svg%3E") bottom/cover no-repeat;
}
.hero-icon{
  width:52px;height:52px;margin:0 auto 14px;
  background:linear-gradient(135deg,var(--card),var(--bg3));
  border-radius:15px;border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  font-size:26px;position:relative;z-index:1;
  box-shadow:0 8px 32px rgba(91,163,217,.15);
}
.hero h1{
  font-family:'Cormorant Garamond',serif;
  font-size:2.2rem;font-weight:300;letter-spacing:2px;
  color:#fff;position:relative;z-index:1;text-transform:uppercase;
  line-height:1.3;
}
.hero h1 span{color:var(--accent);font-weight:600}
.hero .meta{
  color:var(--text-dim);font-size:.75rem;font-weight:300;
  letter-spacing:1.5px;text-transform:uppercase;
  margin-top:6px;position:relative;z-index:1;
}
.hero .tags{
  display:flex;flex-wrap:wrap;gap:6px;justify-content:center;
  margin-top:14px;position:relative;z-index:1;
}
.hero .tags span{
  background:rgba(91,163,217,.1);border:1px solid rgba(91,163,217,.2);
  color:var(--blue);font-size:.68rem;font-weight:500;
  padding:3px 10px;border-radius:18px;letter-spacing:.5px;
}

/* â•â•â• AUDIO PLAYER â•â•â• */
.player-wrap{max-width:680px;margin:24px auto 0;position:relative;z-index:1}
.player{
  background:var(--card);border:1px solid var(--border);
  border-radius:16px;padding:18px 20px 16px;box-shadow:var(--shadow);
}
.audio-iframe{
  width:100%;height:80px;border:none;border-radius:12px;
  background:var(--bg3);margin-bottom:12px;
}
.player-note{
  font-size:.85rem;
  font-family:'Noto Sans Arabic',sans-serif;
  color:var(--text-dim);text-align:center;
  margin-top:8px;
}
.player-placeholder{
  padding:30px 20px;
  text-align:center;
  background:rgba(176,138,217,.08);
  border:1px dashed rgba(176,138,217,.3);
  border-radius:12px;
}
.player-placeholder-icon{
  font-size:2.5rem;
  margin-bottom:10px;
}
.player-placeholder-text{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.9rem;
  color:var(--purple);
  line-height:1.6;
}

/* â•â•â• NAV TABS â•â•â• */
.nav{
  display:flex;justify-content:center;gap:10px;
  padding:24px 16px 18px;
  position:sticky;top:0;z-index:50;
  background:var(--bg);
  flex-wrap:wrap;
}
.nav-btn{
  background:var(--bg3);
  border:1.5px solid rgba(255,255,255,.1);
  color:var(--text-mid);
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1rem;
  font-weight:600;
  padding:12px 22px;
  border-radius:12px;
  cursor:pointer;
  transition:all .2s;
  display:flex;align-items:center;gap:8px;
  letter-spacing:.3px;
}
.nav-btn .nav-icon{font-size:1.2rem;line-height:1}
.nav-btn:hover{
  background:var(--card-hover);
  border-color:rgba(255,255,255,.2);
  color:#fff;
  transform:translateY(-2px);
}
.nav-btn.active{
  background:linear-gradient(135deg,rgba(91,163,217,.2),rgba(232,160,76,.12));
  border-color:var(--blue);
  color:#fff;
  box-shadow:0 2px 14px rgba(91,163,217,.2);
}

/* â•â•â• MAIN â•â•â• */
.main{max-width:740px;margin:0 auto;padding:4px 16px 80px}
.section{display:none;animation:fadeUp .28s ease}
.section.active{display:block}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

/* â•â•â• CONVERSATION â•â•â• */
.conv-card{
  display:flex;gap:12px;align-items:flex-start;
  background:var(--card);border:1px solid var(--border);
  border-radius:var(--radius);padding:15px 17px;
  margin-bottom:7px;cursor:pointer;
  transition:background .2s,border-color .2s,transform .12s;
  position:relative;overflow:hidden;
}
.conv-card::before{content:'';position:absolute;top:0;left:0;bottom:0;width:3px}
.conv-card.sp-a::before{background:var(--a-color)}
.conv-card.sp-b::before{background:var(--b-color)}
.conv-card:hover{background:var(--card-hover);transform:translateX(3px)}
.conv-card .av{
  flex-shrink:0;width:34px;height:34px;border-radius:9px;
  display:flex;align-items:center;justify-content:center;
  font-family:'Cormorant Garamond',serif;
  font-size:1.05rem;font-weight:700;color:#fff;margin-top:1px;
}
.sp-a .av{background:linear-gradient(135deg,#4a8fbd,#3a6f9f)}
.sp-b .av{background:linear-gradient(135deg,#d4884a,#b86e35)}
.conv-card .body{flex:1;min-width:0}
.conv-card .num{font-size:.58rem;color:var(--text-dim);margin-bottom:3px;font-variant-numeric:tabular-nums}
.conv-card .de{font-size:.9rem;font-weight:400;color:var(--text);line-height:1.55}
.conv-card .ar{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1.15rem;
  font-weight:500;
  color:var(--blue);
  direction:rtl;text-align:right;line-height:1.9;
  max-height:0;overflow:hidden;opacity:0;
  transition:max-height .32s ease,opacity .28s ease,padding .28s,margin .28s,border-color .28s;
  border-top:1px solid transparent;
}
.conv-card.open .ar{max-height:250px;opacity:1;margin-top:10px;padding-top:10px;border-top-color:var(--border)}
.conv-card .hint{
  font-size:.75rem;
  font-family:'Noto Sans Arabic',sans-serif;
  color:var(--accent);margin-top:5px;
  opacity:.55;display:flex;align-items:center;gap:3px;
  transition:opacity .2s,max-height .25s;
}
.conv-card.open .hint{opacity:0;max-height:0;overflow:hidden;margin:0}

/* â•â•â• VOCAB â•â•â• */
.vf-row{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}
.vf-btn{
  background:var(--bg3);border:1px solid var(--border);
  color:var(--text-dim);
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.9rem;font-weight:500;
  padding:7px 16px;border-radius:18px;cursor:pointer;
  transition:all .18s;
}
.vf-btn:hover,.vf-btn.on{background:rgba(91,163,217,.15);border-color:rgba(91,163,217,.3);color:var(--blue)}
.v-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(195px,1fr));gap:8px}
.v-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:12px;cursor:pointer;
  min-height:100px;position:relative;
  transition:border-color .2s;perspective:800px;
}
.v-card:hover{border-color:rgba(91,163,217,.25)}
.v-card .v-front,.v-card .v-back{
  position:absolute;inset:0;padding:14px 15px;
  backface-visibility:hidden;
  transition:transform .38s cubic-bezier(.4,0,.2,1);
  display:flex;flex-direction:column;justify-content:center;
}
.v-card .v-back{transform:rotateY(180deg)}
.v-card.flipped .v-front{transform:rotateY(180deg)}
.v-card.flipped .v-back{transform:rotateY(0)}
.v-card .v-cat{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.75rem;font-weight:600;letter-spacing:.7px;text-transform:uppercase;margin-bottom:5px;color:var(--accent);
}
.v-card .v-word{font-family:'Cormorant Garamond',serif;font-size:1.12rem;font-weight:600;color:var(--text)}
.v-card .v-hint{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.72rem;color:var(--text-dim);margin-top:auto;padding-top:5px;
}
.v-card .v-back .v-cat{color:var(--green)}
.v-card .v-back .v-word{
  font-family:'Noto Sans Arabic',sans-serif;
  color:var(--blue);
  direction:rtl;
  text-align:right;
  font-size:1.2rem;
  font-weight:600;
  line-height:1.8;
}

/* â•â•â• MATCHING GAME â•â•â• */
.match-container{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:24px;
  margin-bottom:20px;
}
.match-header{
  text-align:center;
  margin-bottom:24px;
  padding-bottom:18px;
  border-bottom:1px solid var(--border);
}
.match-title{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1.4rem;
  font-weight:700;
  color:var(--text);
  margin-bottom:8px;
}
.match-desc{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.95rem;
  color:var(--text-dim);
  line-height:1.7;
}
.match-stats{
  display:flex;
  gap:20px;
  justify-content:center;
  margin-bottom:20px;
  font-family:'Noto Sans Arabic',sans-serif;
}
.match-stat{
  text-align:center;
  padding:10px 20px;
  background:var(--bg3);
  border-radius:12px;
  border:1px solid var(--border);
}
.match-stat-label{
  font-size:.75rem;
  color:var(--text-dim);
  margin-bottom:4px;
}
.match-stat-value{
  font-size:1.5rem;
  font-weight:700;
  color:var(--accent);
}
.match-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
  margin-bottom:20px;
}
.match-column{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.match-col-title{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.9rem;
  font-weight:600;
  color:var(--text-mid);
  text-align:center;
  margin-bottom:6px;
  padding:8px;
  background:var(--bg3);
  border-radius:8px;
}
.match-item{
  background:var(--bg3);
  border:2px solid var(--border);
  border-radius:10px;
  padding:14px 16px;
  color:var(--text);
  font-size:.95rem;
  cursor:pointer;
  transition:all .2s;
  text-align:center;
  min-height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.match-item.arabic{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1.1rem;
  font-weight:500;
  direction:rtl;
}
.match-item:hover{
  background:var(--card-hover);
  border-color:rgba(91,163,217,.4);
  transform:translateY(-2px);
}
.match-item.selected{
  background:rgba(91,163,217,.2);
  border-color:var(--blue);
  color:#fff;
  box-shadow:0 4px 12px rgba(91,163,217,.3);
}
.match-item.correct{
  background:rgba(92,191,138,.2);
  border-color:var(--green);
  color:var(--green);
  pointer-events:none;
  animation:matchSuccess .4s ease;
}
.match-item.wrong{
  background:rgba(224,92,92,.15);
  border-color:var(--red);
  animation:matchShake .4s ease;
}
@keyframes matchSuccess{
  0%{transform:scale(1)}
  50%{transform:scale(1.05)}
  100%{transform:scale(1)}
}
@keyframes matchShake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-8px)}
  75%{transform:translateX(8px)}
}
.match-controls{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
.match-btn{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;
  border:none;
  padding:12px 28px;
  border-radius:12px;
  font-size:.9rem;
  font-weight:600;
  font-family:'Noto Sans Arabic',sans-serif;
  cursor:pointer;
  transition:transform .15s,box-shadow .2s;
  box-shadow:0 4px 16px rgba(232,160,76,.25);
}
.match-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 20px rgba(232,160,76,.35);
}
.match-btn.secondary{
  background:var(--bg3);
  color:var(--text);
  box-shadow:none;
  border:1px solid var(--border);
}
.match-btn.secondary:hover{
  background:var(--card-hover);
  border-color:rgba(255,255,255,.2);
}
.match-result{
  text-align:center;
  padding:40px 20px;
}
.match-result-icon{
  font-size:4rem;
  margin-bottom:16px;
}
.match-result-title{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1.8rem;
  font-weight:700;
  color:var(--text);
  margin-bottom:12px;
}
.match-result-text{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1.1rem;
  color:var(--text-dim);
  margin-bottom:24px;
}

/* â•â•â• QUIZ â•â•â• */
.quiz-prog{display:flex;align-items:center;gap:12px;margin-bottom:20px}
.quiz-prog .trk{flex:1;height:4px;background:var(--bg3);border-radius:2px;overflow:hidden}
.quiz-prog .fil{height:100%;background:linear-gradient(90deg,var(--blue),var(--green));border-radius:2px;transition:width .4s cubic-bezier(.4,0,.2,1)}
.quiz-prog .cnt{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.9rem;color:var(--text-dim);font-variant-numeric:tabular-nums;white-space:nowrap;
}
.quiz-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:18px;padding:28px 24px 24px;box-shadow:var(--shadow);
}
.q-tag{
  display:inline-flex;align-items:center;gap:5px;
  background:rgba(91,163,217,.1);border:1px solid rgba(91,163,217,.2);
  color:var(--blue);
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:.85rem;font-weight:600;
  padding:5px 14px;border-radius:12px;margin-bottom:16px;letter-spacing:.4px;
}
.q-text{
  font-size:1.05rem;
  color:var(--text);
  line-height:1.7;
  font-weight:400;
  margin-bottom:20px;
  padding-bottom:16px;
  border-bottom:1px solid var(--border);
}
.q-text.rtl{
  font-family:'Noto Sans Arabic',sans-serif;
  direction:rtl;
  text-align:right;
  color:var(--blue);
  font-size:1.3rem;
  font-weight:500;
  line-height:2;
}
.q-opts{display:flex;flex-direction:column;gap:7px}
.q-opt{
  background:var(--bg3);border:1px solid var(--border);
  border-radius:10px;padding:13px 16px;
  color:var(--text-mid);font-size:1rem;
  cursor:pointer;text-align:left;
  transition:all .18s;display:flex;align-items:center;gap:10px;
  font-family:'Noto Sans Arabic',sans-serif;
}
.q-opt .on{
  flex-shrink:0;width:26px;height:26px;border-radius:6px;
  background:var(--card);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  font-size:.7rem;color:var(--text-dim);font-weight:600;
}
.q-opt:hover{background:var(--card-hover);border-color:rgba(91,163,217,.3);color:var(--text)}
.q-opt.correct{background:rgba(92,191,138,.12);border-color:var(--green);color:var(--green)}
.q-opt.correct .on{background:var(--green);color:#fff;border-color:var(--green)}
.q-opt.wrong{background:rgba(224,92,92,.1);border-color:var(--red);color:var(--red)}
.q-opt.wrong .on{background:var(--red);color:#fff;border-color:var(--red)}
.q-opt:disabled{cursor:default}
.q-fb{
  margin-top:16px;
  font-size:.95rem;
  font-family:'Noto Sans Arabic',sans-serif;
  color:var(--text-dim);
  min-height:20px;
  padding-left:34px;
}
.q-fb.ok{color:var(--green)}.q-fb.no{color:var(--red)}
.q-next{
  margin-top:18px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;border:none;padding:11px 26px;border-radius:20px;
  font-size:.9rem;font-weight:600;cursor:pointer;
  font-family:'Noto Sans Arabic',sans-serif;
  display:none;transition:transform .15s;
  box-shadow:0 4px 16px rgba(232,160,76,.25);
}
.q-next:hover{transform:translateY(-1px)}
.q-next.show{display:inline-flex;align-items:center;gap:5px}

/* score end */
.score-box{text-align:center;padding:44px 20px 36px}
.score-ring{
  width:130px;height:130px;border-radius:50%;margin:0 auto 20px;
  background:conic-gradient(var(--green) 0deg,var(--green) var(--pct),var(--bg3) var(--pct));
  display:flex;align-items:center;justify-content:center;position:relative;
}
.score-ring::before{content:'';position:absolute;width:100px;height:100px;border-radius:50%;background:var(--card)}
.score-ring .sv{position:relative;z-index:1;font-family:'Cormorant Garamond',serif;font-size:2rem;font-weight:600;color:var(--text)}
.score-box .ss{
  font-family:'Noto Sans Arabic',sans-serif;
  color:var(--text-dim);font-size:.95rem;margin-bottom:24px;
}
.score-box .rst{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;border:none;padding:11px 32px;border-radius:22px;
  font-size:.9rem;font-weight:600;cursor:pointer;
  font-family:'Noto Sans Arabic',sans-serif;
  box-shadow:0 4px 16px rgba(232,160,76,.25);transition:transform .15s;
}
.score-box .rst:hover{transform:translateY(-1px)}

/* â•â•â• TIPS â•â•â• */
.tip-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:var(--radius);padding:18px 20px;margin-bottom:9px;
  transition:border-color .2s;
}
.tip-card:hover{border-color:rgba(91,163,217,.2)}
.tip-head{display:flex;align-items:center;gap:10px;margin-bottom:9px}
.tip-ico{
  width:32px;height:32px;border-radius:8px;
  background:rgba(91,163,217,.1);
  display:flex;align-items:center;justify-content:center;font-size:16px;
}
.tip-title{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1.15rem;font-weight:600;color:var(--text);
}
.tip-title span{color:var(--text-dim);font-weight:400;font-size:.95rem}
.tip-card p{
  font-family:'Noto Sans Arabic',sans-serif;
  font-size:1rem;color:var(--text-mid);line-height:1.9;
}
.tip-card .ar-eg{
  margin-top:12px;padding:11px 16px;
  background:rgba(91,163,217,.07);border-right:3px solid var(--blue);
  border-radius:7px 0 0 7px;
  font-family:'Noto Sans Arabic',sans-serif;
  direction:rtl;text-align:right;
  color:var(--blue);font-size:1.1rem;line-height:1.9;font-weight:500;
}

/* â•â•â• RESPONSIVE â•â•â• */
@media(max-width:520px){
  .hero h1{font-size:1.7rem}
  .nav{gap:6px;padding:18px 8px 14px}
  .nav-btn{padding:10px 16px;font-size:.9rem}
  .nav-btn .nav-icon{font-size:1.05rem}
  .v-grid{grid-template-columns:1fr 1fr}
  .quiz-card{padding:20px 16px 18px}
  .match-grid{grid-template-columns:1fr;gap:12px}
  .match-col-title{font-size:.85rem}
}
</style>
</head>
<body>

<!-- â•â•â• HERO â•â•â• -->
<div class="hero">
  <div class="hero-icon">ğŸ“š</div>
  <h1>Nachhilfe fÃ¼r<br><span>Waisenkinder</span></h1>
  <div class="meta">Lektion 7 Â· Deutsch â†” Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
  <div class="tags">
    <span>Ø¹Ù…Ù„ ØªØ·ÙˆØ¹ÙŠ</span><span>ØªÙ†Ø¸ÙŠÙ… ÙˆÙ‚Øª</span>
    <span>Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª</span><span>Ù…ÙˆØ§ÙÙ‚Ø© ÙˆØ±ÙØ¶</span><span>TELC B1</span>
  </div>

  <!-- AUDIO PLAYER -->
  <div class="player-wrap">
    <div class="player">
      <div class="player-placeholder">
        <div class="player-placeholder-icon">ğŸ§</div>
        <div class="player-placeholder-text">Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ Ø³ÙŠØ¶Ø§Ù Ù‚Ø±ÙŠØ¨Ù‹Ø§<br>Audio file coming soon</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â• NAV â•â•â• -->
<div class="nav">
  <button class="nav-btn active" onclick="switchTab('conv',this)">
    <span class="nav-icon">ğŸ’¬</span> Ø§Ù„Ø­ÙˆØ§Ø±
  </button>
  <button class="nav-btn" onclick="switchTab('vocab',this)">
    <span class="nav-icon">ğŸ“–</span> Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª
  </button>
  <button class="nav-btn" onclick="switchTab('match',this)">
    <span class="nav-icon">ğŸ®</span> Ø±Ø¨Ø· Ø§Ù„ÙƒÙ„Ù…Ø§Øª
  </button>
  <button class="nav-btn" onclick="switchTab('quiz',this)">
    <span class="nav-icon">ğŸ§ </span> Ø§Ø®ØªØ¨Ø§Ø±
  </button>
  <button class="nav-btn" onclick="switchTab('tips',this)">
    <span class="nav-icon">ğŸ’¡</span> Ù†ØµØ§Ø¦Ø­
  </button>
</div>

<!-- â•â•â• MAIN â•â•â• -->
<div class="main">
  <div id="conv" class="section active"></div>
  <div id="vocab" class="section"></div>
  <div id="match" class="section"></div>
  <div id="quiz" class="section"></div>
  <div id="tips" class="section"></div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const conv = [
  {s:'A', de:'Hallo Hanae! Wie geht es dir?', ar:'Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø­Ù†Ø§Ù†! ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ'},
  {s:'B', de:'Mir geht es gut, danke und dir?', ar:'Ø£Ù†Ø§ Ø¨Ø®ÙŠØ±ØŒ Ø´ÙƒØ±Ù‹Ø§ØŒ ÙˆØ£Ù†ØªØŸ'},
  {s:'A', de:'Super, alles ist okay. Wie du weiÃŸt, wir haben frei am Wochenende und mÃ¶chten Waisenkindern helfen, Deutsch zu lernen. Was hÃ¤ltst du davon?', ar:'Ù…Ù…ØªØ§Ø²ØŒ ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù…. ÙƒÙ…Ø§ ØªØ¹Ù„Ù…ÙŠÙ†ØŒ Ù„Ø¯ÙŠÙ†Ø§ Ø¹Ø·Ù„Ø© ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ÙˆÙ†ÙˆØ¯ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„Ø£ÙŠØªØ§Ù… Ø¹Ù„Ù‰ ØªØ¹Ù„Ù… Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©. Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {s:'B', de:'Das ist eine gute Idee, aber was sollen wir zuerst machen?', ar:'Ù‡Ø°Ù‡ ÙÙƒØ±Ø© Ø¬ÙŠØ¯Ø©ØŒ Ù„ÙƒÙ† Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø£Ù† Ù†ÙØ¹Ù„ Ø£ÙˆÙ„Ù‹Ø§ØŸ'},
  {s:'A', de:'Erstens sollten wir einen Plan vorbereiten, damit alles in Ordnung wird.', ar:'Ø£ÙˆÙ„Ù‹Ø§ ÙŠØ¬Ø¨ Ø£Ù† Ù†ÙØ­Ø¶Ù‘Ø± Ø®Ø·Ø© Ø­ØªÙ‰ ÙŠÙƒÙˆÙ† ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ù†Ø¸Ù…Ù‹Ø§.'},
  {s:'B', de:'Ich stimme dir zu, und wann hast du Zeit? Und wann kÃ¶nnen wir anfangen?', ar:'Ø£ÙˆØ§ÙÙ‚Ùƒ Ø§Ù„Ø±Ø£ÙŠØŒ ÙˆÙ…ØªÙ‰ ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ ÙˆÙ‚ØªØŸ ÙˆÙ…ØªÙ‰ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†Ø¨Ø¯Ø£ØŸ'},
  {s:'A', de:'Wie sieht es bei dir am nÃ¤chsten Samstagvormittag aus?', ar:'Ù…Ø§ Ø±Ø£ÙŠÙƒ ØµØ¨Ø§Ø­ Ø§Ù„Ø³Ø¨Øª Ø§Ù„Ù‚Ø§Ø¯Ù…ØŸ / Ù‡Ù„ ÙŠÙ†Ø§Ø³Ø¨Ùƒ ØµØ¨Ø§Ø­ Ø§Ù„Ø³Ø¨Øª Ø§Ù„Ù‚Ø§Ø¯Ù…ØŸ'},
  {s:'B', de:'Samstag passt mir leider nicht, weil ich einen wichtigen Termin habe, den ich nicht verschieben kann. Hast du am Sonntag Zeit?', ar:'Ù„Ù„Ø£Ø³Ù Ø§Ù„Ø³Ø¨Øª Ù„Ø§ ÙŠÙ†Ø§Ø³Ø¨Ù†ÙŠ Ù„Ø£Ù† Ù„Ø¯ÙŠ Ù…ÙˆØ¹Ø¯Ù‹Ø§ Ù…Ù‡Ù…Ù‹Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ ØªØ£Ø¬ÙŠÙ„Ù‡. Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙˆÙ‚Øª ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯ØŸ'},
  {s:'A', de:'Ja, Sonntag passt mir ganz gut, aber ich mÃ¶chte gern wissen, in welchen FÃ¤chern kÃ¶nnen wir ihnen helfen? Hast du eine Idee?', ar:'Ù†Ø¹Ù…ØŒ Ø§Ù„Ø£Ø­Ø¯ ÙŠÙ†Ø§Ø³Ø¨Ù†ÙŠ Ø¬ÙŠØ¯Ù‹Ø§ØŒ Ù„ÙƒÙ† Ø£ÙˆØ¯ Ø£Ù† Ø£Ø¹Ø±Ù: ÙÙŠ Ø£ÙŠ Ù…ÙˆØ§Ø¯ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ØªÙ‡Ù…ØŸ Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙÙƒØ±Ø©ØŸ'},
  {s:'B', de:'Sie haben Probleme in Deutsch, sie kennen weder Grammatik noch sprechen.', ar:'Ù„Ø¯ÙŠÙ‡Ù… Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©ØŒ ÙÙ‡Ù… Ù„Ø§ ÙŠØ¹Ø±ÙÙˆÙ† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆÙ„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ÙˆÙ† Ø§Ù„ØªØ­Ø¯Ø«.'},
  {s:'A', de:'Okay, einverstanden, ich kÃ¼mmere mich um Grammatik und Sprechen. Das hilft ihnen, ihr Niveau zu verbessern.', ar:'Ø­Ø³Ù†Ù‹Ø§ØŒ Ù…ØªÙÙ‚ØŒ Ø³Ø£Ù‡ØªÙ… Ø¨Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ§Ù„ØªØ­Ø¯Ø«. Ù‡Ø°Ø§ Ø³ÙŠØ³Ø§Ø¹Ø¯Ù‡Ù… Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ù…Ø³ØªÙˆØ§Ù‡Ù….'},
  {s:'B', de:'Prima, und wann beginnen wir diese Nachhilfe? Ich sage: es wÃ¤re besser am Sonntagnachmittag, was sagst du?', ar:'Ø±Ø§Ø¦Ø¹ØŒ ÙˆÙ…ØªÙ‰ Ù†Ø¨Ø¯Ø£ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø±ÙˆØ³ØŸ Ø£Ù‚ÙˆÙ„: Ø³ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ø£ÙØ¶Ù„ Ø¨Ø¹Ø¯ Ø¸Ù‡Ø± ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯ØŒ Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {s:'A', de:'Ich stimme dir zu, weil ich Sonntag einen Ruhetag habe, und welche AktivitÃ¤ten wir fÃ¼r Kinder machen, hast du etwas geplant?', ar:'Ø£ÙˆØ§ÙÙ‚Ùƒ Ø§Ù„Ø±Ø£ÙŠ Ù„Ø£Ù† ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯ Ù‡Ùˆ ÙŠÙˆÙ… Ø±Ø§Ø­ØªÙŠØŒ ÙˆÙ…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙŠ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ù‡Ø§ Ù„Ù„Ø£Ø·ÙØ§Ù„ØŸ Ù‡Ù„ Ø®Ø·Ø·Øª Ù„Ø´ÙŠØ¡ØŸ'},
  {s:'B', de:'Du weiÃŸt schon, mein Vater ist Mitglied in einem Kinderverein, er kann doch helfen, auÃŸerdem kÃ¶nnen wir andere Spiele machen.', ar:'ÙƒÙ…Ø§ ØªØ¹Ù„Ù…ÙŠÙ†ØŒ ÙˆØ§Ù„Ø¯ÙŠ Ø¹Ø¶Ùˆ ÙÙŠ Ø¬Ù…Ø¹ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„ØŒ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©ØŒ Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø£Ù„Ø¹Ø§Ø¨ Ø£Ø®Ø±Ù‰.'},
  {s:'A', de:'Du hast recht, wir kÃ¶nnen zum Beispiel am Nachmittag mit Kindern FuÃŸball spielen, WÃ¶rterkarten oder rennen.', ar:'Ø£Ù†ØªÙ Ø¹Ù„Ù‰ Ø­Ù‚ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ù…Ø«Ù„Ù‹Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø± Ù„Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ù…Ø¹ Ø§Ù„Ø£Ø·ÙØ§Ù„ØŒ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙƒÙ„Ù…Ø§ØªØŒ Ø£Ùˆ Ø§Ù„Ø¬Ø±ÙŠ.'},
  {s:'B', de:'Alles in Ordnung, also ich glaube, wir haben alle Punkte besprochen. Lass uns am Samstag treffen.', ar:'ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù…ØŒ Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†Ù†Ø§ Ù†Ø§Ù‚Ø´Ù†Ø§ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·. Ù„Ù†ØªÙ‚Ø§Ø¨Ù„ ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª.'},
  {s:'A', de:'Das glaube ich auch. Ich hoffe dir einen schÃ¶nen Tag noch. TschÃ¼ss.', ar:'Ø£Ø¹ØªÙ‚Ø¯ Ø°Ù„Ùƒ Ø£ÙŠØ¶Ù‹Ø§. Ø£ØªÙ…Ù†Ù‰ Ù„Ùƒ ÙŠÙˆÙ…Ù‹Ø§ Ø¬Ù…ÙŠÙ„Ù‹Ø§. Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‚Ø§Ø¡.'}
];

const vocab = [
  {cat:'ÙØ¹Ù„', de:'helfen', ar:'ÙŠØ³Ø§Ø¹Ø¯'},
  {cat:'ÙØ¹Ù„', de:'vorbereiten', ar:'ÙŠÙØ­Ø¶Ù‘Ø±'},
  {cat:'ÙØ¹Ù„', de:'anfangen', ar:'ÙŠØ¨Ø¯Ø£'},
  {cat:'ÙØ¹Ù„', de:'verschieben', ar:'ÙŠØ¤Ø¬Ù„'},
  {cat:'ÙØ¹Ù„', de:'verbessern', ar:'ÙŠØ­Ø³Ù‘Ù†'},
  {cat:'ÙØ¹Ù„', de:'beginnen', ar:'ÙŠØ¨Ø¯Ø£'},
  {cat:'ÙØ¹Ù„', de:'treffen', ar:'ÙŠØªÙ‚Ø§Ø¨Ù„'},
  {cat:'ÙØ¹Ù„', de:'sprechen', ar:'ÙŠØªØ­Ø¯Ø«'},
  {cat:'ÙØ¹Ù„', de:'kennen', ar:'ÙŠØ¹Ø±Ù'},
  {cat:'ÙØ¹Ù„', de:'kÃ¼mmere mich', ar:'Ø£Ù‡ØªÙ… Ø¨Ù€ / Ø£ØªÙˆÙ„Ù‰'},
  
  {cat:'Ø§Ø³Ù…', de:'Waisenkinder', ar:'Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„Ø£ÙŠØªØ§Ù…'},
  {cat:'Ø§Ø³Ù…', de:'Nachhilfe', ar:'Ø¯Ø±ÙˆØ³ Ø¯Ø¹Ù…/ØªÙ‚ÙˆÙŠØ©'},
  {cat:'Ø§Ø³Ù…', de:'Plan', ar:'Ø®Ø·Ø©'},
  {cat:'Ø§Ø³Ù…', de:'Termin', ar:'Ù…ÙˆØ¹Ø¯'},
  {cat:'Ø§Ø³Ù…', de:'FÃ¤cher', ar:'Ù…ÙˆØ§Ø¯'},
  {cat:'Ø§Ø³Ù…', de:'Grammatik', ar:'Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯'},
  {cat:'Ø§Ø³Ù…', de:'Niveau', ar:'Ø§Ù„Ù…Ø³ØªÙˆÙ‰'},
  {cat:'Ø§Ø³Ù…', de:'Ruhetag', ar:'ÙŠÙˆÙ… Ø±Ø§Ø­Ø©'},
  {cat:'Ø§Ø³Ù…', de:'Kinderverein', ar:'Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„'},
  {cat:'Ø§Ø³Ù…', de:'AktivitÃ¤ten', ar:'Ø£Ù†Ø´Ø·Ø©'},
  {cat:'Ø§Ø³Ù…', de:'FuÃŸball', ar:'ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…'},
  {cat:'Ø§Ø³Ù…', de:'WÃ¶rterkarten', ar:'Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª'},
  {cat:'Ø§Ø³Ù…', de:'Punkte', ar:'Ù†Ù‚Ø§Ø·'},
  
  {cat:'ØµÙØ©', de:'wichtigen', ar:'Ù…Ù‡Ù…'},
  {cat:'ØµÙØ©', de:'ganz gut', ar:'Ø¬ÙŠØ¯Ù‹Ø§'},
  
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Was hÃ¤ltst du davon?', ar:'Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Ich stimme dir zu', ar:'Ø£ÙˆØ§ÙÙ‚Ùƒ Ø§Ù„Ø±Ø£ÙŠ'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Wie sieht es bei dir ... aus?', ar:'Ù‡Ù„ ÙŠÙ†Ø§Ø³Ø¨ÙƒØŸ / Ù…Ø§ Ø±Ø£ÙŠÙƒØŸ'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Das passt mir (nicht)', ar:'(Ù„Ø§) ÙŠÙ†Ø§Ø³Ø¨Ù†ÙŠ'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Ich kÃ¼mmere mich um', ar:'Ø³Ø£Ù‡ØªÙ… Ø¨Ù€'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Du hast recht', ar:'Ø£Ù†Øª Ø¹Ù„Ù‰ Ø­Ù‚'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'Alles in Ordnung', ar:'ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù…'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'zum Beispiel', ar:'Ù…Ø«Ù„Ù‹Ø§'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'auÃŸerdem', ar:'Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ'},
  {cat:'ØªØ¹Ø¨ÙŠØ±', de:'weder ... noch', ar:'Ù„Ø§ ... ÙˆÙ„Ø§'}
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER CONVERSATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderConv(){
  document.getElementById('conv').innerHTML = conv.map((l,i)=>`
    <div class="conv-card sp-${l.s.toLowerCase()}" onclick="this.classList.toggle('open')">
      <div class="av">${l.s}</div>
      <div class="body">
        <div class="num">${i+1} / ${conv.length}</div>
        <div class="de">${l.de}</div>
        <div class="ar">${l.ar}</div>
        <div class="hint">Ø§Ø¶ØºØ· Ù„ØªØ±Ù‰ Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© â–¾</div>
      </div>
    </div>
  `).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER VOCAB
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let vFilter='ÙƒÙ„';
function renderVocab(){
  const cats=['ÙƒÙ„','ÙØ¹Ù„','Ø§Ø³Ù…','ØµÙØ©','ØªØ¹Ø¨ÙŠØ±'];
  const list = vFilter==='ÙƒÙ„' ? vocab : vocab.filter(v=>v.cat===vFilter);
  document.getElementById('vocab').innerHTML =
    '<div class="vf-row">'+cats.map(c=>`<button class="vf-btn${vFilter===c?' on':''}" onclick="setVF('${c}')">${c}</button>`).join('')+'</div>'+
    '<div class="v-grid">'+list.map(v=>`
      <div class="v-card" onclick="this.classList.toggle('flipped')">
        <div class="v-front"><div class="v-cat">${v.cat}</div><div class="v-word">${v.de}</div><div class="v-hint">Ø§Ø¶ØºØ· Ù„Ù„ØªØ±Ø¬Ù…Ø© â–¾</div></div>
        <div class="v-back"><div class="v-cat">Ø§Ù„ØªØ±Ø¬Ù…Ø©</div><div class="v-word">${v.ar}</div><div class="v-hint">Ø§Ø¶ØºØ· Ù„Ù„Ø±Ø¬ÙˆØ¹ â†º</div></div>
      </div>
    `).join('')+'</div>';
}
function setVF(c){ vFilter=c; renderVocab(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MATCHING GAME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let matchPairs = [];
let matchDeList = [];
let matchArList = [];
let selectedDe = null;
let selectedAr = null;
let matchScore = 0;
let matchAttempts = 0;

function shuffle(a){
  const r=[...a];
  for(let i=r.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [r[i],r[j]]=[r[j],r[i]];
  }
  return r;
}

function initMatchGame(){
  const selected = shuffle(vocab).slice(0, 8);
  matchPairs = selected.map(v => ({de: v.de, ar: v.ar}));
  matchDeList = shuffle(matchPairs.map(p => p.de));
  matchArList = shuffle(matchPairs.map(p => p.ar));
  selectedDe = null;
  selectedAr = null;
  matchScore = 0;
  matchAttempts = 0;
  renderMatchGame();
}

function renderMatchGame(){
  const remainingPairs = matchPairs.filter(p => p.de !== null);
  
  if(remainingPairs.length === 0){
    showMatchResult();
    return;
  }
  
  document.getElementById('match').innerHTML = `
    <div class="match-container">
      <div class="match-header">
        <div class="match-title">ğŸ® Ù„Ø¹Ø¨Ø© Ø±Ø¨Ø· Ø§Ù„ÙƒÙ„Ù…Ø§Øª</div>
        <div class="match-desc">Ø§Ø±Ø¨Ø· ÙƒÙ„ ÙƒÙ„Ù…Ø© Ø£Ù„Ù…Ø§Ù†ÙŠØ© Ø¨ØªØ±Ø¬Ù…ØªÙ‡Ø§ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØµØ­ÙŠØ­Ø©</div>
      </div>
      <div class="match-stats">
        <div class="match-stat">
          <div class="match-stat-label">ØµØ­ÙŠØ­Ø©</div>
          <div class="match-stat-value">${matchScore}</div>
        </div>
        <div class="match-stat">
          <div class="match-stat-label">Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª</div>
          <div class="match-stat-value">${matchAttempts}</div>
        </div>
      </div>
      <div class="match-grid">
        <div class="match-column">
          <div class="match-col-title">ğŸ‡©ğŸ‡ª Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©</div>
          ${matchDeList.map((de, i) => 
            de ? `<div class="match-item" data-de="${de}" onclick="selectDe('${de}')">${de}</div>` : 
            '<div class="match-item correct">âœ“</div>'
          ).join('')}
        </div>
        <div class="match-column">
          <div class="match-col-title">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
          ${matchArList.map((ar, i) => 
            ar ? `<div class="match-item arabic" data-ar="${ar}" onclick="selectAr('${ar}')">${ar}</div>` : 
            '<div class="match-item correct">âœ“</div>'
          ).join('')}
        </div>
      </div>
      <div class="match-controls">
        <button class="match-btn" onclick="initMatchGame()">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
      </div>
    </div>
  `;
  
  updateMatchSelection();
}

function selectDe(de){
  selectedDe = selectedDe === de ? null : de;
  updateMatchSelection();
  checkMatch();
}

function selectAr(ar){
  selectedAr = selectedAr === ar ? null : ar;
  updateMatchSelection();
  checkMatch();
}

function updateMatchSelection(){
  document.querySelectorAll('.match-item').forEach(item => {
    item.classList.remove('selected', 'wrong');
    if(item.dataset.de === selectedDe || item.dataset.ar === selectedAr){
      item.classList.add('selected');
    }
  });
}

function checkMatch(){
  if(!selectedDe || !selectedAr) return;
  
  matchAttempts++;
  
  const pair = matchPairs.find(p => p.de === selectedDe && p.ar === selectedAr);
  
  if(pair){
    matchScore++;
    
    document.querySelectorAll('.match-item').forEach(item => {
      if(item.dataset.de === selectedDe || item.dataset.ar === selectedAr){
        item.classList.add('correct');
        item.classList.remove('selected');
      }
    });
    
    const deIdx = matchDeList.indexOf(selectedDe);
    const arIdx = matchArList.indexOf(selectedAr);
    matchDeList[deIdx] = null;
    matchArList[arIdx] = null;
    
    selectedDe = null;
    selectedAr = null;
    
    setTimeout(() => {
      renderMatchGame();
    }, 600);
    
  } else {
    document.querySelectorAll('.match-item').forEach(item => {
      if(item.dataset.de === selectedDe || item.dataset.ar === selectedAr){
        item.classList.add('wrong');
      }
    });
    
    setTimeout(() => {
      selectedDe = null;
      selectedAr = null;
      updateMatchSelection();
    }, 800);
  }
}

function showMatchResult(){
  const accuracy = Math.round((matchScore / matchAttempts) * 100);
  document.getElementById('match').innerHTML = `
    <div class="match-container">
      <div class="match-result">
        <div class="match-result-icon">ğŸ‰</div>
        <div class="match-result-title">Ø£Ø­Ø³Ù†Øª!</div>
        <div class="match-result-text">
          Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­<br>
          ${matchScore} Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© Ù…Ù† ${matchAttempts} Ù…Ø­Ø§ÙˆÙ„Ø©<br>
          Ø¯Ù‚Ø©: ${accuracy}%
        </div>
        <button class="match-btn" onclick="initMatchGame()">ğŸ”„ Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
      </div>
    </div>
  `;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let qList=[],qIdx=0,qScore=0;

function buildQuiz(){
  qList=[];
  shuffle(conv).slice(0,7).forEach(l=>{
    const w=shuffle(conv.filter(x=>x.ar!==l.ar)).slice(0,3).map(x=>x.ar);
    qList.push({q:l.de,ans:l.ar,opts:shuffle([l.ar,...w]),rtl:true,tag:'ØªØ±Ø¬Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'});
  });
  shuffle(vocab).slice(0,5).forEach(v=>{
    const w=shuffle(vocab.filter(x=>x.de!==v.de)).slice(0,3).map(x=>x.de);
    qList.push({q:v.ar,ans:v.de,opts:shuffle([v.de,...w]),rtl:false,tag:'ØªØ±Ø¬Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©'});
  });
  qList=shuffle(qList); qIdx=0; qScore=0;
}

function renderQuiz(){ buildQuiz(); showQ(); }

function showQ(){
  const el=document.getElementById('quiz');
  if(qIdx>=qList.length){
    const pct=Math.round(qScore/qList.length*100);
    el.innerHTML=`<div class="score-box">
      <div class="score-ring" style="--pct:${pct*3.6}deg"><div class="sv">${pct}%</div></div>
      <div class="ss">${qScore} Ù…Ù† ${qList.length} Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</div>
      <button class="rst" onclick="renderQuiz()">Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§ â†»</button>
    </div>`;
    return;
  }
  const q=qList[qIdx], labels=['A','B','C','D'];
  el.innerHTML=`<div>
    <div class="quiz-prog">
      <div class="trk"><div class="fil" style="width:${qIdx/qList.length*100}%"></div></div>
      <div class="cnt">${qIdx+1} / ${qList.length}</div>
    </div>
    <div class="quiz-card">
      <div class="q-tag">ğŸ¯ ${q.tag}</div>
      <div class="q-text${q.rtl?' rtl':''}">${q.q}</div>
      <div class="q-opts">${q.opts.map((o,i)=>`<button class="q-opt" onclick="pick(this,${i})"><span class="on">${labels[i]}</span><span>${o}</span></button>`).join('')}</div>
      <div class="q-fb" id="fb"></div>
      <button class="q-next" id="nxt" onclick="qIdx++;showQ()">Ø§Ù„ØªØ§Ù„ÙŠ â†’</button>
    </div>
  </div>`;
}

function pick(btn,idx){
  const q=qList[qIdx], chosen=q.opts[idx];
  document.querySelectorAll('.q-opt').forEach(b=>b.disabled=true);
  if(chosen===q.ans){
    btn.classList.add('correct');
    document.getElementById('fb').className='q-fb ok';
    document.getElementById('fb').textContent='âœ“ ØµØ­ÙŠØ­! Ù…Ù…ØªØ§Ø²';
    qScore++;
  } else {
    btn.classList.add('wrong');
    document.getElementById('fb').className='q-fb no';
    document.getElementById('fb').textContent='Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: '+q.ans;
    document.querySelectorAll('.q-opt').forEach((b,i)=>{
      if(q.opts[i]===q.ans) b.classList.add('correct');
    });
  }
  document.getElementById('nxt').classList.add('show');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TIPS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTips(){
  const tips=[
    {ico:'ğŸ“Œ',title:'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø© Ù„Ø§Ù…ØªØ­Ø§Ù† TELC B1',sub:'',body:'<strong>Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:</strong> Ø¹Ù…Ù„ ØªØ·ÙˆØ¹ÙŠ + ØªÙ†Ø¸ÙŠÙ… ÙˆÙ‚Øª + Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª<br><strong>Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª:</strong> Ø§Ù‚ØªØ±Ø§Ø­ â€“ Ù…ÙˆØ§ÙÙ‚Ø© â€“ Ø±ÙØ¶ â€“ Ø¨Ø¯ÙŠÙ„<br>Ø§Ù„Ù†Øµ Ù…Ù†Ø§Ø³Ø¨ Ø¬Ø¯Ù‹Ø§ Ù„Ù…Ù‡Ù…Ø© Sprechen Teil 2 Ø£Ùˆ 3',ar:''},
    {ico:'ğŸ’¬',title:'Ø¹Ø¨Ø§Ø±Ø§Øª Ù‚ÙˆÙŠØ©',sub:'Wichtige AusdrÃ¼cke',body:'Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØ³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†',ar:'Was hÃ¤ltst du davon? â€¢ Ich stimme dir zu â€¢ Wie sieht es bei dir aus? â€¢ Das passt mir (nicht) â€¢ Ich kÃ¼mmere mich um'},
    {ico:'ğŸ—“ï¸',title:'ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙˆÙ‚Øª',sub:'Zeitorganisation',body:'ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªÙ‚ØªØ±Ø­ Ø£ÙˆÙ‚Ø§ØªØŒ ØªÙˆØ§ÙÙ‚ØŒ ØªØ±ÙØ¶ØŒ ÙˆØªÙ‚ØªØ±Ø­ Ø¨Ø¯Ø§Ø¦Ù„ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù‡Ø°Ø¨Ø© ÙˆÙ…Ù‡Ù†ÙŠØ©',ar:'Samstag passt mir leider nicht, weil ... Hast du am Sonntag Zeit?'},
    {ico:'ğŸ¤',title:'Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© ÙˆØ§Ù„Ø±ÙØ¶',sub:'Zustimmung & Ablehnung',body:'<strong>Ù„Ù„Ù…ÙˆØ§ÙÙ‚Ø©:</strong> Ich stimme dir zu â€¢ Einverstanden â€¢ Das passt mir<br><strong>Ù„Ù„Ø±ÙØ¶:</strong> Das passt mir leider nicht, weil ...',ar:''},
    {ico:'ğŸ“š',title:'Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©',sub:'FÃ¤cher',body:'ØªØ­Ø¯Ø« Ø¹Ù† Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©: <strong>Grammatik</strong> (Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯)ØŒ <strong>Sprechen</strong> (Ø§Ù„ØªØ­Ø¯Ø«)ØŒ <strong>Niveau verbessern</strong> (ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰)',ar:'Ich kÃ¼mmere mich um Grammatik und Sprechen'},
    {ico:'ğŸ®',title:'Ø§Ù„Ø£Ù†Ø´Ø·Ø©',sub:'AktivitÃ¤ten',body:'Ø§Ù‚ØªØ±Ø­ Ø£Ù†Ø´Ø·Ø© Ù…ØªÙ†ÙˆØ¹Ø©: <strong>FuÃŸball spielen</strong> (Ù„Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…)ØŒ <strong>WÃ¶rterkarten</strong> (Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª)ØŒ <strong>Spiele machen</strong> (Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø£Ù„Ø¹Ø§Ø¨)',ar:'Wir kÃ¶nnen zum Beispiel am Nachmittag mit Kindern FuÃŸball spielen'}
  ];
  document.getElementById('tips').innerHTML=tips.map(t=>`
    <div class="tip-card">
      <div class="tip-head"><div class="tip-ico">${t.ico}</div><div class="tip-title">${t.title}${t.sub?' <span>â€“ '+t.sub+'</span>':''}</div></div>
      <p>${t.body}</p>
      ${t.ar?'<div class="ar-eg">'+t.ar+'</div>':''}
    </div>
  `).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TAB SWITCHER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function switchTab(id,btn){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  if(id==='conv') renderConv();
  else if(id==='vocab') renderVocab();
  else if(id==='match') initMatchGame();
  else if(id==='quiz') renderQuiz();
  else if(id==='tips') renderTips();
}

// INIT
renderConv();
</script>
</body>
</html>
